{% extends 'base.html' %}
 {% load humanize %}

 {% block title %}
  Profile
 {% endblock title %}

 {% block content %}
  <div class="card border-success mb-3">
    <div class="card-header bg-transparent border-success fs-4">{{ user.username }}'s Profile</div>
    <div class="card-body">
      <!-- Check Username -->
      {% if user.username %}
        <p class="card-text">Username: {{ user.username }}</p>
      {% else %}
        <div class="alert alert-warning" role="alert">
          <b>Username </b>is not provided by user
        </div>
      {% endif %}

      <!-- Check first_name -->
      {% if user.first_name %}
        <p class="card-text">First Name: {{ user.first_name }}</p>
      {% else %}
        <div class="alert alert-warning" role="alert">
          <b>First Name </b>is not provided by user
        </div>
      {% endif %}

      <!-- Check last_name -->
      {% if user.last_name %}
        <p class="card-text">Last Name: {{user.last_name}}</p>
      {% else %}
        <div class="alert alert-warning" role="alert">
          <b>last Name </b>is not provided by user
        </div>
      {% endif %}

      <!-- Check email -->
      {% if user.email %}
        <p class="card-text">Email: {{user.email}}</p>
      {% else %}
        <div class="alert alert-warning" role="alert">
          <b>Email </b>is not provided by user
        </div>
      {% endif %}
    </div>
    <div class="card-footer bg-transparent border-success">
      <a href="{% url 'change-password' %}" class="btn btn-primary"><i class="fa-solid fa-lock"></i> Change Password</a>
      <a href="{% url 'edit_user' %}" class="btn btn-info"><i class="fa-solid fa-user-pen"></i> Edit Profile</a>
      <a href="{% url 'delete_user' user.id %}" class="btn btn-danger"><i class="fa-solid fa-user-slash"></i> Delete Account</a>
    </div>
  </div>
<hr>
<h3>My Posts</h3>

{% for post_data in user_related_data %}
<div class="card mt-1">
  <div class="card-body">
    <blockquote class="blockquote mb-0">
      <div class="row">
        <div class="col-md-6">
          <p>{{ post_data.name }}
        </div>
        <div class="col-md-6">
          <p class="text-end"><i class="fa-solid fa-clock"></i> {{ post_data.post_date|timesince }}
        </div>
      </div>
      <footer class="blockquote-footer">{{ post_data.description|truncatewords:20 }}</footer>
    </blockquote>
  </div>
  <div class="card-footer">
    <a href="{% url 'blog_detail' post_data.slug %}" class="btn btn-primary"><i class="fa-brands fa-readme"></i> Read Blog</a>
    <a href="" class="btn btn-info"><i class="fa-solid fa-pen-to-square"></i> Edit Blog</a>
    <a href="" class="btn btn-danger"><i class="fa-solid fa-trash"></i> Delete Blog</a>
  </div>
</div>
{% endfor %}

{% endblock content %}
